"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8582],{34419:function(t,e,n){var r=n(11382),o=n(85893);e.Z=function(t){var e=t.show;return(0,o.jsx)(o.Fragment,{children:e&&(0,o.jsx)("div",{style:{zIndex:2e3},className:"fixed inset-0 flex items-center justify-center w-screen h-screen bg-white bg-opacity-80",children:(0,o.jsx)(r.Z,{size:"large"})})})}},72837:function(t,e,n){n.d(e,{n:function(){return o}});var r=n(49089),o=function(t,e){r.ZP.initialize("".concat("G-G1DDX2K7XB")),r.ZP.event({category:t,action:"".concat(e,"-").concat(t)})}},43283:function(t,e,n){var r=n(30266),o=n(68216),i=n(92809),c=n(809),u=n.n(c),a=n(46837),s=n(14743),f=n(72837),E=n(62286),p=n(47041),l=n(9669),d=n.n(l),h=n(34155),O=n(48764).Buffer;function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var N,v="Auth",A="@NH-AUTH",I="".concat("https://nexthub-api.mobly.com.br","/").concat(h.env.NEXT_PUBLIC_LOCAL||"auth/signIn");!function(t){t[t.InvalidCredentials=0]="InvalidCredentials",t[t.ResquestError=1]="ResquestError"}(N||(N={}));var R=function t(){(0,o.Z)(this,t)};(0,i.Z)(R,"signIn",function(){var t=(0,r.Z)(u().mark((function t(e){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,f.n)(v,"signIn"),R.clearAuth(),t.abrupt("return",a.Z.post(I,e).then((function(t){return R.setAuthItem("auth",t.data),t.data})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,i.Z)(R,"changePassword",function(){var t=(0,r.Z)(u().mark((function t(e,n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,f.n)(v,"changePassword"),t.abrupt("return",a.Z.post("".concat(I,"/").concat(e),n));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),(0,i.Z)(R,"getAuthItem",(function(t){var e=null,n=(0,E.parseCookies)(t)["@NH-AUTH"];if(n)try{var r=O.from(n,"base64").toString("utf-8");e=JSON.parse(r)}catch(o){return null}return e})),(0,i.Z)(R,"setAuthItem",(function(t,e){var n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},R.getAuthItem());switch(t){case"token":n.token=e;break;case"user":n.user=e;break;default:n=e}var r=O.from(JSON.stringify(n)).toString("base64");(0,E.setCookie)(null,A,r,{maxAge:86400,path:"/"})})),(0,i.Z)(R,"clearAuth",(function(){(0,E.destroyCookie)(null,A,{path:"/"}),s.Z.clearCurrentBranch()})),(0,i.Z)(R,"logoutUser",(function(){R.clearAuth(),window.location.href="/signin"})),(0,i.Z)(R,"getPermissionChange",(function(t){var e,n=null===(e=R.getAuthItem())||void 0===e?void 0:e.user,r=!1;return n&&(n.isRoot||null!==n&&void 0!==n&&n.profile.permissions.some((function(e){return e.menuType===t&&e.writing})))&&(r=!0),r})),(0,i.Z)(R,"setAuthToken",(function(t,e,n){(0,p.setCookies)(A,t,{maxAge:86400,req:e,res:n})})),(0,i.Z)(R,"getCoginitoToken",function(){var t=(0,r.Z)(u().mark((function t(e){var n,r,o,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={cpf:null===e||void 0===e?void 0:e.document,token:null===e||void 0===e?void 0:e.accessToken},r="".concat("https://nexthub-api.mobly.com.br","/auth/change-token"),t.next=4,d().post(r,n,{headers:{"x-api-key":"JIhMd2Xb2A3p6gkq2TbNu51Yh3RmKyJy8jaPghau"}});case 4:return o=t.sent,i=O.from(JSON.stringify(o.data)).toString("base64"),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.Z=R},14743:function(t,e,n){n.d(e,{Z:function(){return Z}});var r,o=n(30266),i=n(68216),c=n(92809),u=n(809),a=n.n(u),s=n(46837),f=n(66766),E=n(13614),p=n(89755),l=n(43283),d=n(72837),h=n(62286),O=n(34155);function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v="Branch",A="@NH-BRANCHES",I="@NH-CURRENT-BRANCH",R="".concat(null!==(r=O.env.NEXT_PUBLIC_LOCAL)&&void 0!==r?r:"core","/branches"),Z=function t(){(0,i.Z)(this,t)};(0,c.Z)(Z,"getAll",(0,o.Z)(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,d.n)(v,"getAll"),e={page:1,limit:5e3},t.abrupt("return",s.Z.get(R,{params:e}).then((function(t){var e=t.data.docs.map((function(t){return new f.I(t)})),n=l.Z.getAuthItem();return null!==n&&void 0!==n&&n.user.isRoot?e:e.filter((function(t){var e;return null===n||void 0===n||null===(e=n.user.branches)||void 0===e?void 0:e.includes(t.id)}))})));case 3:case"end":return t.stop()}}),t)})))),(0,c.Z)(Z,"getById",function(){var t=(0,o.Z)(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,d.n)(v,"getById"),t.abrupt("return",s.Z.get("".concat(R,"/").concat(e)).then((function(t){return new f.I(t.data)})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,c.Z)(Z,"create",function(){var t=(0,o.Z)(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,d.n)(v,"create"),e.cnpj=(0,E.g1)(e.cnpj,14),e.phone=(0,E.g1)(e.phone,11),e.address.zipCode=(0,E.g1)(e.address.zipCode,8),t.abrupt("return",s.Z.post(R,e));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,c.Z)(Z,"update",function(){var t=(0,o.Z)(a().mark((function t(e,n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,d.n)(v,"update"),n.cnpj=(0,E.g1)(n.cnpj,14),n.phone=(0,E.g1)(n.phone,11),n.address.zipCode=(0,E.g1)(n.address.zipCode,8),t.abrupt("return",s.Z.put("".concat(R,"/").concat(e),n));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),(0,c.Z)(Z,"delete",function(){var t=(0,o.Z)(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,d.n)(v,"delete"),t.abrupt("return",s.Z.delete("".concat(R,"/").concat(e)));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,c.Z)(Z,"updateCalendarEvent",function(){var t=(0,o.Z)(a().mark((function t(e,n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,d.n)(v,"updateCalendarEvent"),t.abrupt("return",s.Z.put("".concat(R,"/").concat(e,"/calendar"),n));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),(0,c.Z)(Z,"getTemplate",(0,o.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,d.n)(v,"getTemplate"),t.abrupt("return",s.Z.get(R+"/calendar/template").then((function(t){return t.data})));case 2:case"end":return t.stop()}}),t)})))),(0,c.Z)(Z,"getBranchesItem",(function(){return new p.Z(A).getLocal()||null})),(0,c.Z)(Z,"setBranchesItem",(function(t){new p.Z(A,t).setLocal()})),(0,c.Z)(Z,"getCurrentBranchItem",(function(t){var e=(0,h.parseCookies)(t)["@NH-CURRENT-BRANCH"],n=null;return e&&(n=JSON.parse(e)),n})),(0,c.Z)(Z,"setCurrentBranchItem",(function(t){(0,h.setCookie)(null,I,JSON.stringify(N(N({},t),{},{calendar:void 0})),{maxAge:86400,path:"/"})})),(0,c.Z)(Z,"clearCurrentBranch",(function(){(0,h.destroyCookie)(null,I,{path:"/"})}))},14986:function(t,e,n){n.d(e,{d:function(){return f},k:function(){return E}});var r=n(14695),o=n(13444),i=n(30268),c=n(92953),u=n(68216),a=n(92809);function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,c.Z)(t);if(e){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.Z)(this,n)}}var f=function t(e){var n;(0,u.Z)(this,t),(0,a.Z)(this,"street",void 0),(0,a.Z)(this,"number",void 0),(0,a.Z)(this,"complement",void 0),(0,a.Z)(this,"zipCode",void 0),(0,a.Z)(this,"neighborhood",void 0),(0,a.Z)(this,"cityCode",void 0),(0,a.Z)(this,"city",void 0),(0,a.Z)(this,"state",void 0),this.street=e.street,this.number=e.number,this.complement=e.complement,this.zipCode=e.zipCode,this.neighborhood=e.neighborhood,this.cityCode=e.cityCode,this.city=e.city,null!==(n=e.city)&&void 0!==n&&n.code&&(this.cityCode=e.city.code),delete this.city,delete this.state},E=function(t){(0,o.Z)(n,t);var e=s(n);function n(t){var o;return(0,u.Z)(this,n),o=e.call(this,t),(0,a.Z)((0,r.Z)(o),"city",void 0),(0,a.Z)((0,r.Z)(o),"state",void 0),o.city=t.city,o.state=t.state,o}return n}(f)},66766:function(t,e,n){n.d(e,{z:function(){return E},I:function(){return p}});var r=n(14695),o=n(13444),i=n(30268),c=n(92953),u=n(68216),a=n(92809),s=n(14986);function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,c.Z)(t);if(e){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.Z)(this,n)}}var E=function t(e){(0,u.Z)(this,t),(0,a.Z)(this,"cnpj",void 0),(0,a.Z)(this,"name",void 0),(0,a.Z)(this,"fantasyName",void 0),(0,a.Z)(this,"ie",void 0),(0,a.Z)(this,"phone",void 0),(0,a.Z)(this,"isActive",void 0),(0,a.Z)(this,"address",void 0),(0,a.Z)(this,"calendar",void 0),this.cnpj=e.cnpj,this.name=e.name,this.fantasyName=e.fantasyName,this.ie=e.ie,this.phone=e.phone,this.isActive=e.isActive,this.address=new s.d(e.address),this.calendar=e.calendar},p=function(t){(0,o.Z)(n,t);var e=f(n);function n(t){var o;return(0,u.Z)(this,n),o=e.call(this,t),(0,a.Z)((0,r.Z)(o),"id",void 0),(0,a.Z)((0,r.Z)(o),"address",void 0),(0,a.Z)((0,r.Z)(o),"calendar",void 0),o.id=t.id,o.address=new s.k(t.address),o.calendar=t.calendar,o}return n}(E)},86978:function(t,e,n){var r;n.d(e,{o:function(){return r}}),function(t){t[t.CONTINUE=100]="CONTINUE",t[t.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",t[t.PROCESSING=102]="PROCESSING",t[t.EARLYHINTS=103]="EARLYHINTS",t[t.OK=200]="OK",t[t.CREATED=201]="CREATED",t[t.ACCEPTED=202]="ACCEPTED",t[t.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",t[t.NO_CONTENT=204]="NO_CONTENT",t[t.RESET_CONTENT=205]="RESET_CONTENT",t[t.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",t[t.AMBIGUOUS=300]="AMBIGUOUS",t[t.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",t[t.FOUND=302]="FOUND",t[t.SEE_OTHER=303]="SEE_OTHER",t[t.NOT_MODIFIED=304]="NOT_MODIFIED",t[t.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",t[t.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",t[t.BAD_REQUEST=400]="BAD_REQUEST",t[t.UNAUTHORIZED=401]="UNAUTHORIZED",t[t.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",t[t.FORBIDDEN=403]="FORBIDDEN",t[t.NOT_FOUND=404]="NOT_FOUND",t[t.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",t[t.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",t[t.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",t[t.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",t[t.CONFLICT=409]="CONFLICT",t[t.GONE=410]="GONE",t[t.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",t[t.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",t[t.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",t[t.URI_TOO_LONG=414]="URI_TOO_LONG",t[t.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",t[t.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",t[t.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",t[t.I_AM_A_TEAPOT=418]="I_AM_A_TEAPOT",t[t.MISDIRECTED=421]="MISDIRECTED",t[t.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",t[t.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",t[t.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",t[t.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",t[t.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",t[t.BAD_GATEWAY=502]="BAD_GATEWAY",t[t.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",t[t.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",t[t.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED"}(r||(r={}))},46837:function(t,e,n){var r=n(30266),o=n(809),i=n.n(o),c=n(9669),u=n.n(c),a=n(86978),s=n(43283),f=u().create({baseURL:"https://nexthub-api.mobly.com.br"});f.interceptors.request.use((function(t){return t.headers=function(){var t,e;return{"x-api-key":null!==(t="JIhMd2Xb2A3p6gkq2TbNu51Yh3RmKyJy8jaPghau")?t:"",Authorization:"Bearer ".concat(null===(e=s.Z.getAuthItem())||void 0===e?void 0:e.token)}}(),t}),(function(t){return Promise.reject(t)})),f.interceptors.response.use((function(t){return t}),function(){var t=(0,r.Z)(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.response.status!==a.o.UNAUTHORIZED||"/signin"===window.location.pathname){t.next=5;break}return s.Z.logoutUser(),t.abrupt("return",new Promise((function(){return null})));case 5:return t.abrupt("return",Promise.reject(e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.Z=f},13614:function(t,e,n){n.d(e,{iT:function(){return r},j0:function(){return o},Kr:function(){return i},yD:function(){return c},uQ:function(){return u},g1:function(){return a}});var r=function(t){return u(t).replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5").substring(0,18)},o=function(t){return u(t).replace(/^(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4").substring(0,15)},i=function(t){return u(t).replace(/^(\d{5})(\d{3})/,"$1-$2").substring(0,9)},c=function(t){return u(t).replace(/^(\d{2})(\d{4,5})(\d{4})/,"($1) $2-$3").substring(0,15)},u=function(t){return t.replace(/\D/gim,"")},a=function(t,e){var n=t.replace(/([\u0300-\u036f]|[^0-9a-zA-Z])/g,"");return e&&(n=n.substring(0,e)),n}},89755:function(t,e,n){n.d(e,{Z:function(){return c}});var r=n(68216),o=n(25997),i=n(92809),c=function(){function t(e,n){(0,r.Z)(this,t),(0,i.Z)(this,"key",void 0),(0,i.Z)(this,"value",void 0),this.key=e,this.value=n}return(0,o.Z)(t,[{key:"removeLocal",value:function(){localStorage.removeItem(this.key)}},{key:"getLocal",value:function(){var t=localStorage.getItem(this.key);return t?JSON.parse(t):null}},{key:"setLocal",value:function(){this.getLocal()&&this.removeLocal(),localStorage.setItem(this.key,JSON.stringify(this.value))}}]),t}()}}]);